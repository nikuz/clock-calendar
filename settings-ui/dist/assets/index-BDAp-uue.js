(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();const Fe=(t,e)=>t===e,I=Symbol("solid-proxy"),Gt=Symbol("solid-track"),Q={equals:Fe};let ie=de;const E=1,tt=2,re={owned:null,cleanups:null,context:null,owner:null};var m=null;let pt=null,Ge=null,g=null,v=null,x=null,lt=0;function oe(t,e){const n=g,s=m,i=t.length===0,r=e===void 0?s:e,o=i?re:{owned:null,cleanups:null,context:r?r.context:null,owner:r},c=i?t:()=>t(()=>X(()=>J(o)));m=o,g=null;try{return z(c,!0)}finally{g=n,m=s}}function ce(t,e){e=e?Object.assign({},Q,e):Q;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},s=i=>(typeof i=="function"&&(i=i(n.value)),he(n,i));return[le.bind(n),s]}function L(t,e,n){const s=Rt(t,e,!1,E);Y(s)}function G(t,e,n){ie=Ke;const s=Rt(t,e,!1,E);s.user=!0,x?x.push(s):Y(s)}function fe(t,e,n){n=n?Object.assign({},Q,n):Q;const s=Rt(t,e,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,Y(s),le.bind(s)}function ue(t){return z(t,!1)}function X(t){if(g===null)return t();const e=g;g=null;try{return t()}finally{g=e}}function Je(t){G(()=>X(t))}function ae(t){return m===null||(m.cleanups===null?m.cleanups=[t]:m.cleanups.push(t)),t}function _t(){return g}function le(){if(this.sources&&this.state)if(this.state===E)Y(this);else{const t=v;v=null,z(()=>nt(this),!1),v=t}if(g){const t=this.observers?this.observers.length:0;g.sources?(g.sources.push(this),g.sourceSlots.push(t)):(g.sources=[this],g.sourceSlots=[t]),this.observers?(this.observers.push(g),this.observerSlots.push(g.sources.length-1)):(this.observers=[g],this.observerSlots=[g.sources.length-1])}return this.value}function he(t,e,n){let s=t.value;return(!t.comparator||!t.comparator(s,e))&&(t.value=e,t.observers&&t.observers.length&&z(()=>{for(let i=0;i<t.observers.length;i+=1){const r=t.observers[i],o=pt&&pt.running;o&&pt.disposed.has(r),(o?!r.tState:!r.state)&&(r.pure?v.push(r):x.push(r),r.observers&&pe(r)),o||(r.state=E)}if(v.length>1e6)throw v=[],new Error},!1)),e}function Y(t){if(!t.fn)return;J(t);const e=lt;Ne(t,t.value,e)}function Ne(t,e,n){let s;const i=m,r=g;g=m=t;try{s=t.fn(e)}catch(o){return t.pure&&(t.state=E,t.owned&&t.owned.forEach(J),t.owned=null),t.updatedAt=n+1,ye(o)}finally{g=r,m=i}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?he(t,s):t.value=s,t.updatedAt=n)}function Rt(t,e,n,s=E,i){const r={fn:t,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:m,context:m?m.context:null,pure:n};return m===null||m!==re&&(m.owned?m.owned.push(r):m.owned=[r]),r}function et(t){if(t.state===0)return;if(t.state===tt)return nt(t);if(t.suspense&&X(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<lt);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===E)Y(t);else if(t.state===tt){const s=v;v=null,z(()=>nt(t,e[0]),!1),v=s}}function z(t,e){if(v)return t();let n=!1;e||(v=[]),x?n=!0:x=[],lt++;try{const s=t();return qe(n),s}catch(s){n||(x=null),v=null,ye(s)}}function qe(t){if(v&&(de(v),v=null),t)return;const e=x;x=null,e.length&&z(()=>ie(e),!1)}function de(t){for(let e=0;e<t.length;e++)et(t[e])}function Ke(t){let e,n=0;for(e=0;e<t.length;e++){const s=t[e];s.user?t[n++]=s:et(s)}for(e=0;e<n;e++)et(t[e])}function nt(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const s=t.sources[n];if(s.sources){const i=s.state;i===E?s!==e&&(!s.updatedAt||s.updatedAt<lt)&&et(s):i===tt&&nt(s,e)}}}function pe(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=tt,n.pure?v.push(n):x.push(n),n.observers&&pe(n))}}function J(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),s=t.sourceSlots.pop(),i=n.observers;if(i&&i.length){const r=i.pop(),o=n.observerSlots.pop();s<i.length&&(r.sourceSlots[o]=s,i[s]=r,n.observerSlots[s]=o)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)J(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)J(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function Xe(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function ye(t,e=m){throw Xe(t)}function St(t,e){return X(()=>t(e||{}))}function Ye(t,e,n){let s=n.length,i=e.length,r=s,o=0,c=0,f=e[i-1].nextSibling,u=null;for(;o<i||c<r;){if(e[o]===n[c]){o++,c++;continue}for(;e[i-1]===n[r-1];)i--,r--;if(i===o){const h=r<s?c?n[c-1].nextSibling:n[r-c]:f;for(;c<r;)t.insertBefore(n[c++],h)}else if(r===c)for(;o<i;)(!u||!u.has(e[o]))&&e[o].remove(),o++;else if(e[o]===n[r-1]&&n[c]===e[i-1]){const h=e[--i].nextSibling;t.insertBefore(n[c++],e[o++].nextSibling),t.insertBefore(n[--r],h),e[i]=n[r]}else{if(!u){u=new Map;let a=c;for(;a<r;)u.set(n[a],a++)}const h=u.get(e[o]);if(h!=null)if(c<h&&h<r){let a=o,l=1,d;for(;++a<i&&a<r&&!((d=u.get(e[a]))==null||d!==h+l);)l++;if(l>h-c){const p=e[o];for(;c<h;)t.insertBefore(n[c++],p)}else t.replaceChild(n[c++],e[o++])}else o++;else e[o++].remove()}}}const Jt="_$DX_DELEGATE";function Ve(t,e,n,s={}){let i;return oe(r=>{i=r,e===document?t():bt(e,t(),e.firstChild?null:void 0,n)},s.owner),()=>{i(),e.textContent=""}}function ge(t,e,n){let s;const i=()=>{const o=document.createElement("template");return o.innerHTML=t,o.content.firstChild},r=()=>(s||(s=i())).cloneNode(!0);return r.cloneNode=r,r}function Ze(t,e=window.document){const n=e[Jt]||(e[Jt]=new Set);for(let s=0,i=t.length;s<i;s++){const r=t[s];n.has(r)||(n.add(r),e.addEventListener(r,tn))}}function Nt(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function Qe(t,e,n){return X(()=>t(e,n))}function bt(t,e,n,s){if(n!==void 0&&!s&&(s=[]),typeof e!="function")return st(t,e,s,n);L(i=>st(t,e(),i,n),s)}function tn(t){let e=t.target;const n=`$$${t.type}`,s=t.target,i=t.currentTarget,r=f=>Object.defineProperty(t,"target",{configurable:!0,value:f}),o=()=>{const f=e[n];if(f&&!e.disabled){const u=e[`${n}Data`];if(u!==void 0?f.call(e,u,t):f.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&r(e.host),!0},c=()=>{for(;o()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const f=t.composedPath();r(f[0]);for(let u=0;u<f.length-2&&(e=f[u],!!o());u++){if(e._$host){e=e._$host,c();break}if(e.parentNode===i)break}}else c();r(s)}function st(t,e,n,s,i){for(;typeof n=="function";)n=n();if(e===n)return n;const r=typeof e,o=s!==void 0;if(t=o&&n[0]&&n[0].parentNode||t,r==="string"||r==="number"){if(r==="number"&&(e=e.toString(),e===n))return n;if(o){let c=n[0];c&&c.nodeType===3?c.data!==e&&(c.data=e):c=document.createTextNode(e),n=C(t,n,s,c)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||r==="boolean")n=C(t,n,s);else{if(r==="function")return L(()=>{let c=e();for(;typeof c=="function";)c=c();n=st(t,c,n,s)}),()=>n;if(Array.isArray(e)){const c=[],f=n&&Array.isArray(n);if(wt(c,e,n,i))return L(()=>n=st(t,c,n,s,!0)),()=>n;if(c.length===0){if(n=C(t,n,s),o)return n}else f?n.length===0?qt(t,c,s):Ye(t,n,c):(n&&C(t),qt(t,c));n=c}else if(e.nodeType){if(Array.isArray(n)){if(o)return n=C(t,n,s,e);C(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function wt(t,e,n,s){let i=!1;for(let r=0,o=e.length;r<o;r++){let c=e[r],f=n&&n[t.length],u;if(!(c==null||c===!0||c===!1))if((u=typeof c)=="object"&&c.nodeType)t.push(c);else if(Array.isArray(c))i=wt(t,c,f)||i;else if(u==="function")if(s){for(;typeof c=="function";)c=c();i=wt(t,Array.isArray(c)?c:[c],Array.isArray(f)?f:[f])||i}else t.push(c),i=!0;else{const h=String(c);f&&f.nodeType===3&&f.data===h?t.push(f):t.push(document.createTextNode(h))}}return i}function qt(t,e,n=null){for(let s=0,i=e.length;s<i;s++)t.insertBefore(e[s],n)}function C(t,e,n,s){if(n===void 0)return t.textContent="";const i=s||document.createTextNode("");if(e.length){let r=!1;for(let o=e.length-1;o>=0;o--){const c=e[o];if(i!==c){const f=c.parentNode===t;!r&&!o?f?t.replaceChild(i,c):t.insertBefore(i,n):f&&c.remove()}else r=!0}}else t.insertBefore(i,n);return[i]}function en(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function nn(){const t=en();if(t.__xstate__)return t.__xstate__}const sn=t=>{if(typeof window>"u")return;const e=nn();e&&e.register(t)};class Kt{constructor(e){this._process=e,this._active=!1,this._current=null,this._last=null}start(){this._active=!0,this.flush()}clear(){this._current&&(this._current.next=null,this._last=this._current)}enqueue(e){const n={value:e,next:null};if(this._current){this._last.next=n,this._last=n;return}this._current=n,this._last=n,this._active&&this.flush()}flush(){for(;this._current;){const e=this._current;this._process(e.value),this._current=e.next}this._last=null}}const me=".",rn="",ve="",on="#",cn="*",_e="xstate.init",xt="xstate.stop";function fn(t,e){return{type:`xstate.after.${t}.${e}`}}function At(t,e){return{type:`xstate.done.state.${t}`,output:e}}function un(t,e){return{type:`xstate.done.actor.${t}`,output:e,actorId:t}}function an(t,e){return{type:`xstate.error.actor.${t}`,error:e,actorId:t}}function Se(t){return{type:_e,input:t}}function b(t){setTimeout(()=>{throw t})}const ln=typeof Symbol=="function"&&Symbol.observable||"@@observable";function be(t,e){const n=Xt(t),s=Xt(e);return typeof s=="string"?typeof n=="string"?s===n:!1:typeof n=="string"?n in s:Object.keys(n).every(i=>i in s?be(n[i],s[i]):!1)}function jt(t){if(xe(t))return t;const e=[];let n="";for(let s=0;s<t.length;s++){switch(t.charCodeAt(s)){case 92:n+=t[s+1],s++;continue;case 46:e.push(n),n="";continue}n+=t[s]}return e.push(n),e}function Xt(t){if(Jn(t))return t.value;if(typeof t!="string")return t;const e=jt(t);return hn(e)}function hn(t){if(t.length===1)return t[0];const e={};let n=e;for(let s=0;s<t.length-1;s++)if(s===t.length-2)n[t[s]]=t[s+1];else{const i=n;n={},i[t[s]]=n}return e}function Yt(t,e){const n={},s=Object.keys(t);for(let i=0;i<s.length;i++){const r=s[i];n[r]=e(t[r],r,t,i)}return n}function we(t){return xe(t)?t:[t]}function A(t){return t===void 0?[]:we(t)}function Tt(t,e,n,s){return typeof t=="function"?t({context:e,event:n,self:s}):t}function xe(t){return Array.isArray(t)}function dn(t){return t.type.startsWith("xstate.error.actor")}function j(t){return we(t).map(e=>typeof e>"u"||typeof e=="string"?{target:e}:e)}function Ae(t){if(!(t===void 0||t===rn))return A(t)}function Et(t,e,n){var r,o,c;const s=typeof t=="object",i=s?t:void 0;return{next:(r=s?t.next:t)==null?void 0:r.bind(i),error:(o=s?t.error:e)==null?void 0:o.bind(i),complete:(c=s?t.complete:n)==null?void 0:c.bind(i)}}function Vt(t,e){return`${e}.${t}`}function Dt(t,e){const n=e.match(/^xstate\.invoke\.(\d+)\.(.*)/);if(!n)return t.implementations.actors[e];const[,s,i]=n,o=t.getStateNodeById(i).config.invoke;return(Array.isArray(o)?o[s]:o).src}function Zt(t,e){return`${t.sessionId}.${e}`}let pn=0;function yn(t,e){const n=new Map,s=new Map,i=new WeakMap,r=new Set,o={},{clock:c,logger:f}=e,u={schedule:(l,d,p,y,_=Math.random().toString(36).slice(2))=>{const dt={source:l,target:d,event:p,delay:y,id:_,startedAt:Date.now()},M=Zt(l,_);a._snapshot._scheduledEvents[M]=dt;const We=c.setTimeout(()=>{delete o[M],delete a._snapshot._scheduledEvents[M],a._relay(l,d,p)},y);o[M]=We},cancel:(l,d)=>{const p=Zt(l,d),y=o[p];delete o[p],delete a._snapshot._scheduledEvents[p],y!==void 0&&c.clearTimeout(y)},cancelAll:l=>{for(const d in a._snapshot._scheduledEvents){const p=a._snapshot._scheduledEvents[d];p.source===l&&u.cancel(l,p.id)}}},h=l=>{if(!r.size)return;const d={...l,rootId:t.sessionId};r.forEach(p=>{var y;return(y=p.next)==null?void 0:y.call(p,d)})},a={_snapshot:{_scheduledEvents:((e==null?void 0:e.snapshot)&&e.snapshot.scheduler)??{}},_bookId:()=>`x:${pn++}`,_register:(l,d)=>(n.set(l,d),l),_unregister:l=>{n.delete(l.sessionId);const d=i.get(l);d!==void 0&&(s.delete(d),i.delete(l))},get:l=>s.get(l),_set:(l,d)=>{const p=s.get(l);if(p&&p!==d)throw new Error(`Actor with system ID '${l}' already exists.`);s.set(l,d),i.set(d,l)},inspect:l=>{const d=Et(l);return r.add(d),{unsubscribe(){r.delete(d)}}},_sendInspectionEvent:h,_relay:(l,d,p)=>{a._sendInspectionEvent({type:"@xstate.event",sourceRef:l,actorRef:d,event:p}),d._send(p)},scheduler:u,getSnapshot:()=>({_scheduledEvents:{...a._snapshot._scheduledEvents}}),start:()=>{const l=a._snapshot._scheduledEvents;a._snapshot._scheduledEvents={};for(const d in l){const{source:p,target:y,event:_,delay:dt,id:M}=l[d];u.schedule(p,y,_,dt,M)}},_clock:c,_logger:f};return a}let yt=!1;const Pt=1;let S=function(t){return t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped",t}({});const gn={clock:{setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t)},logger:console.log.bind(console),devTools:!1};class mn{constructor(e,n){this.logic=e,this._snapshot=void 0,this.clock=void 0,this.options=void 0,this.id=void 0,this.mailbox=new Kt(this._process.bind(this)),this.observers=new Set,this.eventListeners=new Map,this.logger=void 0,this._processingStatus=S.NotStarted,this._parent=void 0,this._syncSnapshot=void 0,this.ref=void 0,this._actorScope=void 0,this._systemId=void 0,this.sessionId=void 0,this.system=void 0,this._doneEvent=void 0,this.src=void 0,this._deferred=[];const s={...gn,...n},{clock:i,logger:r,parent:o,syncSnapshot:c,id:f,systemId:u,inspect:h}=s;this.system=o?o.system:yn(this,{clock:i,logger:r}),h&&!o&&this.system.inspect(Et(h)),this.sessionId=this.system._bookId(),this.id=f??this.sessionId,this.logger=(n==null?void 0:n.logger)??this.system._logger,this.clock=(n==null?void 0:n.clock)??this.system._clock,this._parent=o,this._syncSnapshot=c,this.options=s,this.src=s.src??e,this.ref=this,this._actorScope={self:this,id:this.id,sessionId:this.sessionId,logger:this.logger,defer:a=>{this._deferred.push(a)},system:this.system,stopChild:a=>{if(a._parent!==this)throw new Error(`Cannot stop child actor ${a.id} of ${this.id} because it is not a child`);a._stop()},emit:a=>{const l=this.eventListeners.get(a.type),d=this.eventListeners.get("*");if(!l&&!d)return;const p=[...l?l.values():[],...d?d.values():[]];for(const y of p)y(a)},actionExecutor:a=>{const l=()=>{if(this._actorScope.system._sendInspectionEvent({type:"@xstate.action",actorRef:this,action:{type:a.type,params:a.params}}),!a.exec)return;const d=yt;try{yt=!0,a.exec(a.info,a.params)}finally{yt=d}};this._processingStatus===S.Running?l():this._deferred.push(l)}},this.send=this.send.bind(this),this.system._sendInspectionEvent({type:"@xstate.actor",actorRef:this}),u&&(this._systemId=u,this.system._set(u,this)),this._initState((n==null?void 0:n.snapshot)??(n==null?void 0:n.state)),u&&this._snapshot.status!=="active"&&this.system._unregister(this)}_initState(e){var n;try{this._snapshot=e?this.logic.restoreSnapshot?this.logic.restoreSnapshot(e,this._actorScope):e:this.logic.getInitialSnapshot(this._actorScope,(n=this.options)==null?void 0:n.input)}catch(s){this._snapshot={status:"error",output:void 0,error:s}}}update(e,n){var i,r;this._snapshot=e;let s;for(;s=this._deferred.shift();)try{s()}catch(o){this._deferred.length=0,this._snapshot={...e,status:"error",error:o}}switch(this._snapshot.status){case"active":for(const o of this.observers)try{(i=o.next)==null||i.call(o,e)}catch(c){b(c)}break;case"done":for(const o of this.observers)try{(r=o.next)==null||r.call(o,e)}catch(c){b(c)}this._stopProcedure(),this._complete(),this._doneEvent=un(this.id,this._snapshot.output),this._parent&&this.system._relay(this,this._parent,this._doneEvent);break;case"error":this._error(this._snapshot.error);break}this.system._sendInspectionEvent({type:"@xstate.snapshot",actorRef:this,event:n,snapshot:e})}subscribe(e,n,s){var r;const i=Et(e,n,s);if(this._processingStatus!==S.Stopped)this.observers.add(i);else switch(this._snapshot.status){case"done":try{(r=i.complete)==null||r.call(i)}catch(o){b(o)}break;case"error":{const o=this._snapshot.error;if(!i.error)b(o);else try{i.error(o)}catch(c){b(c)}break}}return{unsubscribe:()=>{this.observers.delete(i)}}}on(e,n){let s=this.eventListeners.get(e);s||(s=new Set,this.eventListeners.set(e,s));const i=n.bind(void 0);return s.add(i),{unsubscribe:()=>{s.delete(i)}}}start(){if(this._processingStatus===S.Running)return this;this._syncSnapshot&&this.subscribe({next:s=>{s.status==="active"&&this.system._relay(this,this._parent,{type:`xstate.snapshot.${this.id}`,snapshot:s})},error:()=>{}}),this.system._register(this.sessionId,this),this._systemId&&this.system._set(this._systemId,this),this._processingStatus=S.Running;const e=Se(this.options.input);switch(this.system._sendInspectionEvent({type:"@xstate.event",sourceRef:this._parent,actorRef:this,event:e}),this._snapshot.status){case"done":return this.update(this._snapshot,e),this;case"error":return this._error(this._snapshot.error),this}if(this._parent||this.system.start(),this.logic.start)try{this.logic.start(this._snapshot,this._actorScope)}catch(s){return this._snapshot={...this._snapshot,status:"error",error:s},this._error(s),this}return this.update(this._snapshot,e),this.options.devTools&&this.attachDevTools(),this.mailbox.start(),this}_process(e){let n,s;try{n=this.logic.transition(this._snapshot,e,this._actorScope)}catch(i){s={err:i}}if(s){const{err:i}=s;this._snapshot={...this._snapshot,status:"error",error:i},this._error(i);return}this.update(n,e),e.type===xt&&(this._stopProcedure(),this._complete())}_stop(){return this._processingStatus===S.Stopped?this:(this.mailbox.clear(),this._processingStatus===S.NotStarted?(this._processingStatus=S.Stopped,this):(this.mailbox.enqueue({type:xt}),this))}stop(){if(this._parent)throw new Error("A non-root actor cannot be stopped directly.");return this._stop()}_complete(){var e;for(const n of this.observers)try{(e=n.complete)==null||e.call(n)}catch(s){b(s)}this.observers.clear()}_reportError(e){if(!this.observers.size){this._parent||b(e);return}let n=!1;for(const s of this.observers){const i=s.error;n||(n=!i);try{i==null||i(e)}catch(r){b(r)}}this.observers.clear(),n&&b(e)}_error(e){this._stopProcedure(),this._reportError(e),this._parent&&this.system._relay(this,this._parent,an(this.id,e))}_stopProcedure(){return this._processingStatus!==S.Running?this:(this.system.scheduler.cancelAll(this),this.mailbox.clear(),this.mailbox=new Kt(this._process.bind(this)),this._processingStatus=S.Stopped,this.system._unregister(this),this)}_send(e){this._processingStatus!==S.Stopped&&this.mailbox.enqueue(e)}send(e){this.system._relay(void 0,this,e)}attachDevTools(){const{devTools:e}=this.options;e&&(typeof e=="function"?e:sn)(this)}toJSON(){return{xstate$$type:Pt,id:this.id}}getPersistedSnapshot(e){return this.logic.getPersistedSnapshot(this._snapshot,e)}[ln](){return this}getSnapshot(){return this._snapshot}}function N(t,...[e]){return new mn(t,e)}function vn(t,e,n,s,{sendId:i}){const r=typeof i=="function"?i(n,s):i;return[e,{sendId:r},void 0]}function _n(t,e){t.defer(()=>{t.system.scheduler.cancel(t.self,e.sendId)})}function Sn(t){function e(n,s){}return e.type="xstate.cancel",e.sendId=t,e.resolve=vn,e.execute=_n,e}function bn(t,e,n,s,{id:i,systemId:r,src:o,input:c,syncSnapshot:f}){const u=typeof o=="string"?Dt(e.machine,o):o,h=typeof i=="function"?i(n):i;let a,l;return u&&(l=typeof c=="function"?c({context:e.context,event:n.event,self:t.self}):c,a=N(u,{id:h,src:o,parent:t.self,syncSnapshot:f,systemId:r,input:l})),[k(e,{children:{...e.children,[h]:a}}),{id:i,systemId:r,actorRef:a,src:o,input:l},void 0]}function wn(t,{actorRef:e}){e&&t.defer(()=>{e._processingStatus!==S.Stopped&&e.start()})}function xn(...[t,{id:e,systemId:n,input:s,syncSnapshot:i=!1}={}]){function r(o,c){}return r.type="xstate.spawnChild",r.id=e,r.systemId=n,r.src=t,r.input=s,r.syncSnapshot=i,r.resolve=bn,r.execute=wn,r}function An(t,e,n,s,{actorRef:i}){const r=typeof i=="function"?i(n,s):i,o=typeof r=="string"?e.children[r]:r;let c=e.children;return o&&(c={...c},delete c[o.id]),[k(e,{children:c}),o,void 0]}function Tn(t,e){if(e){if(t.system._unregister(e),e._processingStatus!==S.Running){t.stopChild(e);return}t.defer(()=>{t.stopChild(e)})}}function Te(t){function e(n,s){}return e.type="xstate.stopChild",e.actorRef=t,e.resolve=An,e.execute=Tn,e}function Lt(t,e,n,s){const{machine:i}=s,r=typeof t=="function",o=r?t:i.implementations.guards[typeof t=="string"?t:t.type];if(!r&&!o)throw new Error(`Guard '${typeof t=="string"?t:t.type}' is not implemented.'.`);if(typeof o!="function")return Lt(o,e,n,s);const c={context:e,event:n},f=r||typeof t=="string"?void 0:"params"in t?typeof t.params=="function"?t.params({context:e,event:n}):t.params:void 0;return"check"in o?o.check(s,c,o):o(c,f)}const Ht=t=>t.type==="atomic"||t.type==="final";function H(t){return Object.values(t.states).filter(e=>e.type!=="history")}function V(t,e){const n=[];if(e===t)return n;let s=t.parent;for(;s&&s!==e;)n.push(s),s=s.parent;return n}function it(t){const e=new Set(t),n=Oe(e);for(const s of e)if(s.type==="compound"&&(!n.get(s)||!n.get(s).length))Qt(s).forEach(i=>e.add(i));else if(s.type==="parallel"){for(const i of H(s))if(i.type!=="history"&&!e.has(i)){const r=Qt(i);for(const o of r)e.add(o)}}for(const s of e){let i=s.parent;for(;i;)e.add(i),i=i.parent}return e}function Ee(t,e){const n=e.get(t);if(!n)return{};if(t.type==="compound"){const i=n[0];if(i){if(Ht(i))return i.key}else return{}}const s={};for(const i of n)s[i.key]=Ee(i,e);return s}function Oe(t){const e=new Map;for(const n of t)e.has(n)||e.set(n,[]),n.parent&&(e.has(n.parent)||e.set(n.parent,[]),e.get(n.parent).push(n));return e}function $e(t,e){const n=it(e);return Ee(t,Oe(n))}function Ut(t,e){return e.type==="compound"?H(e).some(n=>n.type==="final"&&t.has(n)):e.type==="parallel"?H(e).every(n=>Ut(t,n)):e.type==="final"}const ht=t=>t[0]===on;function En(t,e){return t.transitions.get(e)||[...t.transitions.keys()].filter(s=>{if(s===cn)return!0;if(!s.endsWith(".*"))return!1;const i=s.split("."),r=e.split(".");for(let o=0;o<i.length;o++){const c=i[o],f=r[o];if(c==="*")return o===i.length-1;if(c!==f)return!1}return!0}).sort((s,i)=>i.length-s.length).flatMap(s=>t.transitions.get(s))}function On(t){const e=t.config.after;if(!e)return[];const n=i=>{const r=fn(i,t.id),o=r.type;return t.entry.push(ts(r,{id:o,delay:i})),t.exit.push(Sn(o)),o};return Object.keys(e).flatMap(i=>{const r=e[i],o=typeof r=="string"?{target:r}:r,c=Number.isNaN(+i)?i:+i,f=n(c);return A(o).map(u=>({...u,event:f,delay:c}))}).map(i=>{const{delay:r}=i;return{...O(t,i.event,i),delay:r}})}function O(t,e,n){const s=Ae(n.target),i=n.reenter??!1,r=kn(t,s),o={...n,actions:A(n.actions),guard:n.guard,target:r,source:t,reenter:i,eventType:e,toJSON:()=>({...o,source:`#${t.id}`,target:r?r.map(c=>`#${c.id}`):void 0})};return o}function $n(t){const e=new Map;if(t.config.on)for(const n of Object.keys(t.config.on)){if(n===ve)throw new Error('Null events ("") cannot be specified as a transition key. Use `always: { ... }` instead.');const s=t.config.on[n];e.set(n,j(s).map(i=>O(t,n,i)))}if(t.config.onDone){const n=`xstate.done.state.${t.id}`;e.set(n,j(t.config.onDone).map(s=>O(t,n,s)))}for(const n of t.invoke){if(n.onDone){const s=`xstate.done.actor.${n.id}`;e.set(s,j(n.onDone).map(i=>O(t,s,i)))}if(n.onError){const s=`xstate.error.actor.${n.id}`;e.set(s,j(n.onError).map(i=>O(t,s,i)))}if(n.onSnapshot){const s=`xstate.snapshot.${n.id}`;e.set(s,j(n.onSnapshot).map(i=>O(t,s,i)))}}for(const n of t.after){let s=e.get(n.eventType);s||(s=[],e.set(n.eventType,s)),s.push(n)}return e}function In(t,e){const n=typeof e=="string"?t.states[e]:e?t.states[e.target]:void 0;if(!n&&e)throw new Error(`Initial state node "${e}" not found on parent state node #${t.id}`);const s={source:t,actions:!e||typeof e=="string"?[]:A(e.actions),eventType:null,reenter:!1,target:n?[n]:[],toJSON:()=>({...s,source:`#${t.id}`,target:n?[`#${n.id}`]:[]})};return s}function kn(t,e){if(e!==void 0)return e.map(n=>{if(typeof n!="string")return n;if(ht(n))return t.machine.getStateNodeById(n);const s=n[0]===me;if(s&&!t.parent)return rt(t,n.slice(1));const i=s?t.key+n:n;if(t.parent)try{return rt(t.parent,i)}catch(r){throw new Error(`Invalid transition definition for state node '${t.id}':
${r.message}`)}else throw new Error(`Invalid target: "${n}" is not a valid target from the root node. Did you mean ".${n}"?`)})}function Ie(t){const e=Ae(t.config.target);return e?{target:e.map(n=>typeof n=="string"?rt(t.parent,n):n)}:t.parent.initial}function $(t){return t.type==="history"}function Qt(t){const e=ke(t);for(const n of e)for(const s of V(n,t))e.add(s);return e}function ke(t){const e=new Set;function n(s){if(!e.has(s)){if(e.add(s),s.type==="compound")n(s.initial.target[0]);else if(s.type==="parallel")for(const i of H(s))n(i)}}return n(t),e}function U(t,e){if(ht(e))return t.machine.getStateNodeById(e);if(!t.states)throw new Error(`Unable to retrieve child state '${e}' from '${t.id}'; no child states exist.`);const n=t.states[e];if(!n)throw new Error(`Child state '${e}' does not exist on '${t.id}'`);return n}function rt(t,e){if(typeof e=="string"&&ht(e))try{return t.machine.getStateNodeById(e)}catch{}const n=jt(e).slice();let s=t;for(;n.length;){const i=n.shift();if(!i.length)break;s=U(s,i)}return s}function ot(t,e){if(typeof e=="string"){const i=t.states[e];if(!i)throw new Error(`State '${e}' does not exist on '${t.id}'`);return[t,i]}const n=Object.keys(e),s=n.map(i=>U(t,i)).filter(Boolean);return[t.machine.root,t].concat(s,n.reduce((i,r)=>{const o=U(t,r);if(!o)return i;const c=ot(o,e[r]);return i.concat(c)},[]))}function Mn(t,e,n,s){const r=U(t,e).next(n,s);return!r||!r.length?t.next(n,s):r}function Cn(t,e,n,s){const i=Object.keys(e),r=U(t,i[0]),o=Bt(r,e[i[0]],n,s);return!o||!o.length?t.next(n,s):o}function Rn(t,e,n,s){const i=[];for(const r of Object.keys(e)){const o=e[r];if(!o)continue;const c=U(t,r),f=Bt(c,o,n,s);f&&i.push(...f)}return i.length?i:t.next(n,s)}function Bt(t,e,n,s){return typeof e=="string"?Mn(t,e,n,s):Object.keys(e).length===1?Cn(t,e,n,s):Rn(t,e,n,s)}function jn(t){return Object.keys(t.states).map(e=>t.states[e]).filter(e=>e.type==="history")}function T(t,e){let n=t;for(;n.parent&&n.parent!==e;)n=n.parent;return n.parent===e}function Dn(t,e){const n=new Set(t),s=new Set(e);for(const i of n)if(s.has(i))return!0;for(const i of s)if(n.has(i))return!0;return!1}function Me(t,e,n){const s=new Set;for(const i of t){let r=!1;const o=new Set;for(const c of s)if(Dn(Ot([i],e,n),Ot([c],e,n)))if(T(i.source,c.source))o.add(c);else{r=!0;break}if(!r){for(const c of o)s.delete(c);s.add(i)}}return Array.from(s)}function Pn(t){const[e,...n]=t;for(const s of V(e,void 0))if(n.every(i=>T(i,s)))return s}function zt(t,e){if(!t.target)return[];const n=new Set;for(const s of t.target)if($(s))if(e[s.id])for(const i of e[s.id])n.add(i);else for(const i of zt(Ie(s),e))n.add(i);else n.add(s);return[...n]}function Ce(t,e){const n=zt(t,e);if(!n)return;if(!t.reenter&&n.every(i=>i===t.source||T(i,t.source)))return t.source;const s=Pn(n.concat(t.source));if(s)return s;if(!t.reenter)return t.source.machine.root}function Ot(t,e,n){var i;const s=new Set;for(const r of t)if((i=r.target)!=null&&i.length){const o=Ce(r,n);r.reenter&&r.source===o&&s.add(o);for(const c of e)T(c,o)&&s.add(c)}return[...s]}function Ln(t,e){if(t.length!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function $t(t,e,n,s,i,r){if(!t.length)return e;const o=new Set(e._nodes);let c=e.historyValue;const f=Me(t,o,c);let u=e;i||([u,c]=zn(u,s,n,f,o,c,r,n.actionExecutor)),u=B(u,s,n,f.flatMap(a=>a.actions),r,void 0),u=Un(u,s,n,f,o,r,c,i);const h=[...o];u.status==="done"&&(u=B(u,s,n,h.sort((a,l)=>l.order-a.order).flatMap(a=>a.exit),r,void 0));try{return c===e.historyValue&&Ln(e._nodes,o)?u:k(u,{_nodes:h,historyValue:c})}catch(a){throw a}}function Hn(t,e,n,s,i){if(s.output===void 0)return;const r=At(i.id,i.output!==void 0&&i.parent?Tt(i.output,t.context,e,n.self):void 0);return Tt(s.output,t.context,r,n.self)}function Un(t,e,n,s,i,r,o,c){let f=t;const u=new Set,h=new Set;Bn(s,o,h,u),c&&h.add(t.machine.root);const a=new Set;for(const l of[...u].sort((d,p)=>d.order-p.order)){i.add(l);const d=[];d.push(...l.entry);for(const p of l.invoke)d.push(xn(p.src,{...p,syncSnapshot:!!p.onSnapshot}));if(h.has(l)){const p=l.initial.actions;d.push(...p)}if(f=B(f,e,n,d,r,l.invoke.map(p=>p.id)),l.type==="final"){const p=l.parent;let y=(p==null?void 0:p.type)==="parallel"?p:p==null?void 0:p.parent,_=y||l;for((p==null?void 0:p.type)==="compound"&&r.push(At(p.id,l.output!==void 0?Tt(l.output,f.context,e,n.self):void 0));(y==null?void 0:y.type)==="parallel"&&!a.has(y)&&Ut(i,y);)a.add(y),r.push(At(y.id)),_=y,y=y.parent;if(y)continue;f=k(f,{status:"done",output:Hn(f,e,n,f.machine.root,_)})}}return f}function Bn(t,e,n,s){for(const i of t){const r=Ce(i,e);for(const c of i.target||[])!$(c)&&(i.source!==c||i.source!==r||i.reenter)&&(s.add(c),n.add(c)),D(c,e,n,s);const o=zt(i,e);for(const c of o){const f=V(c,r);(r==null?void 0:r.type)==="parallel"&&f.push(r),Re(s,e,n,f,!i.source.parent&&i.reenter?void 0:r)}}}function D(t,e,n,s){var i;if($(t))if(e[t.id]){const r=e[t.id];for(const o of r)s.add(o),D(o,e,n,s);for(const o of r)gt(o,t.parent,s,e,n)}else{const r=Ie(t);for(const o of r.target)s.add(o),r===((i=t.parent)==null?void 0:i.initial)&&n.add(t.parent),D(o,e,n,s);for(const o of r.target)gt(o,t.parent,s,e,n)}else if(t.type==="compound"){const[r]=t.initial.target;$(r)||(s.add(r),n.add(r)),D(r,e,n,s),gt(r,t,s,e,n)}else if(t.type==="parallel")for(const r of H(t).filter(o=>!$(o)))[...s].some(o=>T(o,r))||($(r)||(s.add(r),n.add(r)),D(r,e,n,s))}function Re(t,e,n,s,i){for(const r of s)if((!i||T(r,i))&&t.add(r),r.type==="parallel")for(const o of H(r).filter(c=>!$(c)))[...t].some(c=>T(c,o))||(t.add(o),D(o,e,n,t))}function gt(t,e,n,s,i){Re(n,s,i,V(t,e))}function zn(t,e,n,s,i,r,o,c){let f=t;const u=Ot(s,i,r);u.sort((a,l)=>l.order-a.order);let h;for(const a of u)for(const l of jn(a)){let d;l.history==="deep"?d=p=>Ht(p)&&T(p,a):d=p=>p.parent===a,h??(h={...r}),h[l.id]=Array.from(i).filter(d)}for(const a of u)f=B(f,e,n,[...a.exit,...a.invoke.map(l=>Te(l.id))],o,void 0),i.delete(a);return[f,h||r]}function Wn(t,e){return t.implementations.actions[e]}function je(t,e,n,s,i,r){const{machine:o}=t;let c=t;for(const f of s){const u=typeof f=="function",h=u?f:Wn(o,typeof f=="string"?f:f.type),a={context:c.context,event:e,self:n.self,system:n.system},l=u||typeof f=="string"?void 0:"params"in f?typeof f.params=="function"?f.params({context:c.context,event:e}):f.params:void 0;if(!h||!("resolve"in h)){n.actionExecutor({type:typeof f=="string"?f:typeof f=="object"?f.type:f.name||"(anonymous)",info:a,params:l,exec:h});continue}const d=h,[p,y,_]=d.resolve(n,c,a,l,h,i);c=p,"retryResolve"in d&&(r==null||r.push([d,y])),"execute"in d&&n.actionExecutor({type:d.type,info:a,params:y,exec:d.execute.bind(null,n,y)}),_&&(c=je(c,e,n,_,i,r))}return c}function B(t,e,n,s,i,r){const o=r?[]:void 0,c=je(t,e,n,s,{internalQueue:i,deferredActorIds:r},o);return o==null||o.forEach(([f,u])=>{f.retryResolve(n,c,u)}),c}function mt(t,e,n,s){let i=t;const r=[];function o(u,h,a){n.system._sendInspectionEvent({type:"@xstate.microstep",actorRef:n.self,event:h,snapshot:u,_transitions:a}),r.push(u)}if(e.type===xt)return i=k(te(i,e,n),{status:"stopped"}),o(i,e,[]),{snapshot:i,microstates:r};let c=e;if(c.type!==_e){const u=c,h=dn(u),a=ee(u,i);if(h&&!a.length)return i=k(t,{status:"error",error:u.error}),o(i,u,[]),{snapshot:i,microstates:r};i=$t(a,t,n,c,!1,s),o(i,u,a)}let f=!0;for(;i.status==="active";){let u=f?Fn(i,c):[];const h=u.length?i:void 0;if(!u.length){if(!s.length)break;c=s.shift(),u=ee(c,i)}i=$t(u,i,n,c,!1,s),f=i!==h,o(i,c,u)}return i.status!=="active"&&te(i,c,n),{snapshot:i,microstates:r}}function te(t,e,n){return B(t,e,n,Object.values(t.children).map(s=>Te(s)),[],void 0)}function ee(t,e){return e.machine.getTransitionData(e,t)}function Fn(t,e){const n=new Set,s=t._nodes.filter(Ht);for(const i of s)t:for(const r of[i].concat(V(i,void 0)))if(r.always){for(const o of r.always)if(o.guard===void 0||Lt(o.guard,t.context,e,t)){n.add(o);break t}}return Me(Array.from(n),new Set(t._nodes),t.historyValue)}function Gn(t,e){const n=it(ot(t,e));return $e(t,[...n])}function Jn(t){return!!t&&typeof t=="object"&&"machine"in t&&"value"in t}const Nn=function(e){return be(e,this.value)},qn=function(e){return this.tags.has(e)},Kn=function(e){const n=this.machine.getTransitionData(this,e);return!!(n!=null&&n.length)&&n.some(s=>s.target!==void 0||s.actions.length)},Xn=function(){const{_nodes:e,tags:n,machine:s,getMeta:i,toJSON:r,can:o,hasTag:c,matches:f,...u}=this;return{...u,tags:Array.from(n)}},Yn=function(){return this._nodes.reduce((e,n)=>(n.meta!==void 0&&(e[n.id]=n.meta),e),{})};function Z(t,e){return{status:t.status,output:t.output,error:t.error,machine:e,context:t.context,_nodes:t._nodes,value:$e(e.root,t._nodes),tags:new Set(t._nodes.flatMap(n=>n.tags)),children:t.children,historyValue:t.historyValue||{},matches:Nn,hasTag:qn,can:Kn,getMeta:Yn,toJSON:Xn}}function k(t,e={}){return Z({...t,...e},t.machine)}function Vn(t,e){const{_nodes:n,tags:s,machine:i,children:r,context:o,can:c,hasTag:f,matches:u,getMeta:h,toJSON:a,...l}=t,d={};for(const y in r){const _=r[y];d[y]={snapshot:_.getPersistedSnapshot(e),src:_.src,systemId:_._systemId,syncSnapshot:_._syncSnapshot}}return{...l,context:De(o),children:d}}function De(t){let e;for(const n in t){const s=t[n];if(s&&typeof s=="object")if("sessionId"in s&&"send"in s&&"ref"in s)e??(e=Array.isArray(t)?t.slice():{...t}),e[n]={xstate$$type:Pt,id:s.id};else{const i=De(s);i!==s&&(e??(e=Array.isArray(t)?t.slice():{...t}),e[n]=i)}}return e??t}function Zn(t,e,n,s,{event:i,id:r,delay:o},{internalQueue:c}){const f=e.machine.implementations.delays;if(typeof i=="string")throw new Error(`Only event objects may be used with raise; use raise({ type: "${i}" }) instead`);const u=typeof i=="function"?i(n,s):i;let h;if(typeof o=="string"){const a=f&&f[o];h=typeof a=="function"?a(n,s):a}else h=typeof o=="function"?o(n,s):o;return typeof h!="number"&&c.push(u),[e,{event:u,id:r,delay:h},void 0]}function Qn(t,e){const{event:n,delay:s,id:i}=e;if(typeof s=="number"){t.defer(()=>{const r=t.self;t.system.scheduler.schedule(r,r,n,s,i)});return}}function ts(t,e){function n(s,i){}return n.type="xstate.raise",n.event=t,n.id=e==null?void 0:e.id,n.delay=e==null?void 0:e.delay,n.resolve=Zn,n.execute=Qn,n}function es(t,{machine:e,context:n},s,i){const r=(o,c)=>{if(typeof o=="string"){const f=Dt(e,o);if(!f)throw new Error(`Actor logic '${o}' not implemented in machine '${e.id}'`);const u=N(f,{id:c==null?void 0:c.id,parent:t.self,syncSnapshot:c==null?void 0:c.syncSnapshot,input:typeof(c==null?void 0:c.input)=="function"?c.input({context:n,event:s,self:t.self}):c==null?void 0:c.input,src:o,systemId:c==null?void 0:c.systemId});return i[u.id]=u,u}else return N(o,{id:c==null?void 0:c.id,parent:t.self,syncSnapshot:c==null?void 0:c.syncSnapshot,input:c==null?void 0:c.input,src:o,systemId:c==null?void 0:c.systemId})};return(o,c)=>{const f=r(o,c);return i[f.id]=f,t.defer(()=>{f._processingStatus!==S.Stopped&&f.start()}),f}}function ns(t,e,n,s,{assignment:i}){if(!e.context)throw new Error("Cannot assign to undefined `context`. Ensure that `context` is defined in the machine config.");const r={},o={context:e.context,event:n.event,spawn:es(t,e,n.event,r),self:t.self,system:t.system};let c={};if(typeof i=="function")c=i(o,s);else for(const u of Object.keys(i)){const h=i[u];c[u]=typeof h=="function"?h(o,s):h}const f=Object.assign({},e.context,c);return[k(e,{context:f,children:Object.keys(r).length?{...e.children,...r}:e.children}),void 0,void 0]}function It(t){function e(n,s){}return e.type="xstate.assign",e.assignment=t,e.resolve=ns,e}const ne=new WeakMap;function R(t,e,n){let s=ne.get(t);return s?e in s||(s[e]=n()):(s={[e]:n()},ne.set(t,s)),s[e]}const ss={},W=t=>typeof t=="string"?{type:t}:typeof t=="function"?"resolve"in t?{type:t.type}:{type:t.name}:t;class Wt{constructor(e,n){if(this.config=e,this.key=void 0,this.id=void 0,this.type=void 0,this.path=void 0,this.states=void 0,this.history=void 0,this.entry=void 0,this.exit=void 0,this.parent=void 0,this.machine=void 0,this.meta=void 0,this.output=void 0,this.order=-1,this.description=void 0,this.tags=[],this.transitions=void 0,this.always=void 0,this.parent=n._parent,this.key=n._key,this.machine=n._machine,this.path=this.parent?this.parent.path.concat(this.key):[],this.id=this.config.id||[this.machine.id,...this.path].join(me),this.type=this.config.type||(this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.description=this.config.description,this.order=this.machine.idMap.size,this.machine.idMap.set(this.id,this),this.states=this.config.states?Yt(this.config.states,(s,i)=>new Wt(s,{_parent:this,_key:i,_machine:this.machine})):ss,this.type==="compound"&&!this.config.initial)throw new Error(`No initial state specified for compound state node "#${this.id}". Try adding { initial: "${Object.keys(this.states)[0]}" } to the state config.`);this.history=this.config.history===!0?"shallow":this.config.history||!1,this.entry=A(this.config.entry).slice(),this.exit=A(this.config.exit).slice(),this.meta=this.config.meta,this.output=this.type==="final"||!this.parent?this.config.output:void 0,this.tags=A(e.tags).slice()}_initialize(){this.transitions=$n(this),this.config.always&&(this.always=j(this.config.always).map(e=>O(this,ve,e))),Object.keys(this.states).forEach(e=>{this.states[e]._initialize()})}get definition(){return{id:this.id,key:this.key,version:this.machine.version,type:this.type,initial:this.initial?{target:this.initial.target,source:this,actions:this.initial.actions.map(W),eventType:null,reenter:!1,toJSON:()=>({target:this.initial.target.map(e=>`#${e.id}`),source:`#${this.id}`,actions:this.initial.actions.map(W),eventType:null})}:void 0,history:this.history,states:Yt(this.states,e=>e.definition),on:this.on,transitions:[...this.transitions.values()].flat().map(e=>({...e,actions:e.actions.map(W)})),entry:this.entry.map(W),exit:this.exit.map(W),meta:this.meta,order:this.order||-1,output:this.output,invoke:this.invoke,description:this.description,tags:this.tags}}toJSON(){return this.definition}get invoke(){return R(this,"invoke",()=>A(this.config.invoke).map((e,n)=>{const{src:s,systemId:i}=e,r=e.id??Vt(this.id,n),o=typeof s=="string"?s:`xstate.invoke.${Vt(this.id,n)}`;return{...e,src:o,id:r,systemId:i,toJSON(){const{onDone:c,onError:f,...u}=e;return{...u,type:"xstate.invoke",src:o,id:r}}}}))}get on(){return R(this,"on",()=>[...this.transitions].flatMap(([n,s])=>s.map(i=>[n,i])).reduce((n,[s,i])=>(n[s]=n[s]||[],n[s].push(i),n),{}))}get after(){return R(this,"delayedTransitions",()=>On(this))}get initial(){return R(this,"initial",()=>In(this,this.config.initial))}next(e,n){const s=n.type,i=[];let r;const o=R(this,`candidates-${s}`,()=>En(this,s));for(const c of o){const{guard:f}=c,u=e.context;let h=!1;try{h=!f||Lt(f,u,n,e)}catch(a){const l=typeof f=="string"?f:typeof f=="object"?f.type:void 0;throw new Error(`Unable to evaluate guard ${l?`'${l}' `:""}in transition for event '${s}' in state node '${this.id}':
${a.message}`)}if(h){i.push(...c.actions),r=c;break}}return r?[r]:void 0}get events(){return R(this,"events",()=>{const{states:e}=this,n=new Set(this.ownEvents);if(e)for(const s of Object.keys(e)){const i=e[s];if(i.states)for(const r of i.events)n.add(`${r}`)}return Array.from(n)})}get ownEvents(){const e=new Set([...this.transitions.keys()].filter(n=>this.transitions.get(n).some(s=>!(!s.target&&!s.actions.length&&!s.reenter))));return Array.from(e)}}const is="#";class Ft{constructor(e,n){this.config=e,this.version=void 0,this.schemas=void 0,this.implementations=void 0,this.__xstatenode=!0,this.idMap=new Map,this.root=void 0,this.id=void 0,this.states=void 0,this.events=void 0,this.id=e.id||"(machine)",this.implementations={actors:(n==null?void 0:n.actors)??{},actions:(n==null?void 0:n.actions)??{},delays:(n==null?void 0:n.delays)??{},guards:(n==null?void 0:n.guards)??{}},this.version=this.config.version,this.schemas=this.config.schemas,this.transition=this.transition.bind(this),this.getInitialSnapshot=this.getInitialSnapshot.bind(this),this.getPersistedSnapshot=this.getPersistedSnapshot.bind(this),this.restoreSnapshot=this.restoreSnapshot.bind(this),this.start=this.start.bind(this),this.root=new Wt(e,{_key:this.id,_machine:this}),this.root._initialize(),this.states=this.root.states,this.events=this.root.events}provide(e){const{actions:n,guards:s,actors:i,delays:r}=this.implementations;return new Ft(this.config,{actions:{...n,...e.actions},guards:{...s,...e.guards},actors:{...i,...e.actors},delays:{...r,...e.delays}})}resolveState(e){const n=Gn(this.root,e.value),s=it(ot(this.root,n));return Z({_nodes:[...s],context:e.context||{},children:{},status:Ut(s,this.root)?"done":e.status||"active",output:e.output,error:e.error,historyValue:e.historyValue},this)}transition(e,n,s){return mt(e,n,s,[]).snapshot}microstep(e,n,s){return mt(e,n,s,[]).microstates}getTransitionData(e,n){return Bt(this.root,e.value,e,n)||[]}getPreInitialState(e,n,s){const{context:i}=this.config,r=Z({context:typeof i!="function"&&i?i:{},_nodes:[this.root],children:{},status:"active"},this);return typeof i=="function"?B(r,n,e,[It(({spawn:c,event:f,self:u})=>i({spawn:c,input:f.input,self:u}))],s,void 0):r}getInitialSnapshot(e,n){const s=Se(n),i=[],r=this.getPreInitialState(e,s,i),o=$t([{target:[...ke(this.root)],source:this.root,reenter:!0,actions:[],eventType:null,toJSON:null}],r,e,s,!0,i),{snapshot:c}=mt(o,s,e,i);return c}start(e){Object.values(e.children).forEach(n=>{n.getSnapshot().status==="active"&&n.start()})}getStateNodeById(e){const n=jt(e),s=n.slice(1),i=ht(n[0])?n[0].slice(is.length):n[0],r=this.idMap.get(i);if(!r)throw new Error(`Child state node '#${i}' does not exist on machine '${this.id}'`);return rt(r,s)}get definition(){return this.root.definition}toJSON(){return this.definition}getPersistedSnapshot(e,n){return Vn(e,n)}restoreSnapshot(e,n){const s={},i=e.children;Object.keys(i).forEach(f=>{const u=i[f],h=u.snapshot,a=u.src,l=typeof a=="string"?Dt(this,a):a;if(!l)return;const d=N(l,{id:f,parent:n.self,syncSnapshot:u.syncSnapshot,snapshot:h,src:a,systemId:u.systemId});s[f]=d});const r=Z({...e,children:s,_nodes:Array.from(it(ot(this.root,e.value)))},this),o=new Set;function c(f,u){if(!o.has(f)){o.add(f);for(const h in f){const a=f[h];if(a&&typeof a=="object"){if("xstate$$type"in a&&a.xstate$$type===Pt){f[h]=u[a.id];continue}c(a,u)}}}}return c(r.context,s),r}}function rs(t,e){return new Ft(t,e)}function os({schemas:t,actors:e,actions:n,guards:s,delays:i}){return{createMachine:r=>rs({...r,schemas:t},{actors:e,actions:n,guards:s,delays:i})}}const cs=os({}).createMachine({id:"SETTINGS",context:{hour:0,minute:0},on:{SET_HOUR:{actions:It(({event:t})=>({hour:t.hour}))},SET_MINUTE:{actions:It(({event:t})=>({minute:t.minute}))}}}),kt=N(cs).start(),Mt=Symbol("store-raw"),P=Symbol("store-node"),w=Symbol("store-has"),Pe=Symbol("store-self");function Le(t){let e=t[I];if(!e&&(Object.defineProperty(t,I,{value:e=new Proxy(t,as)}),!Array.isArray(t))){const n=Object.keys(t),s=Object.getOwnPropertyDescriptors(t);for(let i=0,r=n.length;i<r;i++){const o=n[i];s[o].get&&Object.defineProperty(t,o,{enumerable:s[o].enumerable,get:s[o].get.bind(e)})}}return e}function ct(t){let e;return t!=null&&typeof t=="object"&&(t[I]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function q(t,e=new Set){let n,s,i,r;if(n=t!=null&&t[Mt])return n;if(!ct(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let o=0,c=t.length;o<c;o++)i=t[o],(s=q(i,e))!==i&&(t[o]=s)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const o=Object.keys(t),c=Object.getOwnPropertyDescriptors(t);for(let f=0,u=o.length;f<u;f++)r=o[f],!c[r].get&&(i=t[r],(s=q(i,e))!==i&&(t[r]=s))}return t}function ft(t,e){let n=t[e];return n||Object.defineProperty(t,e,{value:n=Object.create(null)}),n}function K(t,e,n){if(t[e])return t[e];const[s,i]=ce(n,{equals:!1,internal:!0});return s.$=i,t[e]=s}function fs(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===I||e===P||(delete n.value,delete n.writable,n.get=()=>t[I][e]),n}function He(t){_t()&&K(ft(t,P),Pe)()}function us(t){return He(t),Reflect.ownKeys(t)}const as={get(t,e,n){if(e===Mt)return t;if(e===I)return n;if(e===Gt)return He(t),n;const s=ft(t,P),i=s[e];let r=i?i():t[e];if(e===P||e===w||e==="__proto__")return r;if(!i){const o=Object.getOwnPropertyDescriptor(t,e);_t()&&(typeof r!="function"||t.hasOwnProperty(e))&&!(o&&o.get)&&(r=K(s,e,r)())}return ct(r)?Le(r):r},has(t,e){return e===Mt||e===I||e===Gt||e===P||e===w||e==="__proto__"?!0:(_t()&&K(ft(t,w),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:us,getOwnPropertyDescriptor:fs};function ut(t,e,n,s=!1){if(!s&&t[e]===n)return;const i=t[e],r=t.length;n===void 0?(delete t[e],t[w]&&t[w][e]&&i!==void 0&&t[w][e].$()):(t[e]=n,t[w]&&t[w][e]&&i===void 0&&t[w][e].$());let o=ft(t,P),c;if((c=K(o,e,i))&&c.$(()=>n),Array.isArray(t)&&t.length!==r){for(let f=t.length;f<r;f++)(c=o[f])&&c.$();(c=K(o,"length",r))&&c.$(t.length)}(c=o[Pe])&&c.$()}function Ue(t,e){const n=Object.keys(e);for(let s=0;s<n.length;s+=1){const i=n[s];ut(t,i,e[i])}}function ls(t,e){if(typeof e=="function"&&(e=e(t)),e=q(e),Array.isArray(e)){if(t===e)return;let n=0,s=e.length;for(;n<s;n++){const i=e[n];t[n]!==i&&ut(t,n,i)}ut(t,"length",s)}else Ue(t,e)}function F(t,e,n=[]){let s,i=t;if(e.length>1){s=e.shift();const o=typeof s,c=Array.isArray(t);if(Array.isArray(s)){for(let f=0;f<s.length;f++)F(t,[s[f]].concat(e),n);return}else if(c&&o==="function"){for(let f=0;f<t.length;f++)s(t[f],f)&&F(t,[f].concat(e),n);return}else if(c&&o==="object"){const{from:f=0,to:u=t.length-1,by:h=1}=s;for(let a=f;a<=u;a+=h)F(t,[a].concat(e),n);return}else if(e.length>1){F(t[s],e,[s].concat(n));return}i=t[s],n=[s].concat(n)}let r=e[0];typeof r=="function"&&(r=r(i,n),r===i)||s===void 0&&r==null||(r=q(r),s===void 0||ct(i)&&ct(r)&&!Array.isArray(r)?Ue(i,r):ut(t,s,r))}function hs(...[t,e]){const n=q(t||{}),s=Array.isArray(n),i=Le(n);function r(...o){ue(()=>{s&&o.length===1?ls(n,o[0]):F(n,o)})}return[i,r]}function at(t){let e;return t!=null&&typeof t=="object"&&(!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}const Be=(t,e)=>{if(!at(t))return t;const n=!Array.isArray(t),[s,i]=n?[{},Object.keys(t)]:[[],t];e.set(t,s);for(let r=0;r<i.length;++r){const o=n?i[r]:r,c=t[o];e.has(c)?s[o]=e.get(c):s[o]=Be(c,e)}return s},ds=t=>Be(t,new WeakMap),ps=(t,e={})=>{let n=e;for(let s=0;s<t.length;s++)n=n==null?void 0:n[t[s]];return n},ys=t=>at(t)?Array.isArray(t)?[]:{}:t,gs=(t,e,n,s)=>{const i=new WeakMap,r=(o,c,f)=>{if(c!==o){if(i.has(o)){n(...f,i.get(o));return}if(!at(o)||!at(c)){f[f.length-1]!=="toString"&&n(...f,()=>o);return}if(i.set(o,ps(f,s)),Array.isArray(o)&&Array.isArray(c)){const u=o.length-c.length,h=Math.min(c.length,o.length),a=Math.max(o.length,c.length);if(u!==0)for(let l=h;l<=a-1;l++)n(...f,l,ys(o[l]));for(let l=0,d=a-1;l<=d&&(r(o[l],c[l],[...f,l]),l!==d);l++,d--)r(o[d],c[d],[...f,d]);c.length!==o.length&&n(...f,"length",o.length)}else{const u=Object.keys(o);for(let a=0,l=u.length;a<l;a++)r(o[u[a]],c[u[a]],[...f,u[a]]);const h=Object.keys(c);for(let a=0,l=h.length;a<l;a++)o[h[a]]===void 0&&n(...f,h[a],void 0)}}};r(t,e,[])};function ms(t){const[e,n]=hs(ds(t));let s=t;return[e,r=>{ue(()=>{gs(r,s,n,e)}),s=r}]}const se=()=>{};function vs(t){var i;const e=fe(()=>typeof t=="function"?t():t),[n,s]=ms({v:(i=e())==null?void 0:i.getSnapshot()});return G(r=>{const o=e();if(r||s({v:o==null?void 0:o.getSnapshot()}),o){const{unsubscribe:c}=o.subscribe({next:f=>s({v:f}),error:se,complete:se});ae(c)}return!1},!0),()=>n.v}const _s=oe(()=>vs(kt));function Ct(t){return fe(()=>_s().context[t])}function Ss(t){const e=t.getContext("2d");e==null||e.clearRect(0,0,t.width,t.height)}function ze(){return Math.max(window.devicePixelRatio,1)}function bs(t){const e=t.getContext("2d"),n=ze();e==null||e.resetTransform(),e==null||e.scale(n,n)}const ws="clock-calendar",xs={name:ws},As=3.5,Ts=1.159,Es="#F9F9F9",Os="#D9D9D9",$s=1,Is="#F0F0F0",ks="#FF0000",Ms=`/${xs.name}/Rubik-font.woff2`;function vt(t){return t.value<t.inMin?t.outMin:t.value>t.inMax?t.outMax:(t.value-t.inMin)*(t.outMax-t.outMin)/(t.inMax-t.inMin)+t.outMin}function Cs(t){const e=t.canvasEl.getContext("2d");if(!e)return;const n=vt({value:As,inMin:0,inMax:100,outMin:0,outMax:t.canvasSize.width}),s=n*Ts,i=24,r=n*i,o=n*$s,c=vt({value:7,inMin:0,inMax:100,outMin:0,outMax:o});for(let f=0;f<i;f++){const u=t.canvasSize.width/2-r/2+n*f,h=t.canvasSize.height/2-s/2;e.fillStyle=Es,e.fillRect(u,h,n,s),f>0&&(e.strokeStyle=Os,e.beginPath(),e.moveTo(u,h),e.lineTo(u,h+s),e.stroke());const a=f>12?f-12:f;if(e.fillStyle=f===t.activeHour?ks:Is,e.textAlign="center",e.textBaseline="middle",e.font=`${o}px Rubik`,a>=10){e.textAlign="right",e.fillText(Math.trunc(a/10).toString(),u+n/2,h+s/2+c,n),e.textAlign="center",e.textBaseline="bottom",e.font=`${o/1.5}px Rubik`;const l=vt({value:9,inMin:0,inMax:100,outMin:0,outMax:o});e.fillText((a%10).toString(),u+n-n/3,h+s-l,n)}else e.fillText(a.toString(),u+n/2,h+s/2+c,n)}}var Rs=ge("<canvas id=visualization-canvas>");function js(){const t=Ct("hour"),[e,n]=ce({width:0,height:0});let s,i;const r=c=>{if(!s)return;const f=c[0].contentRect,u=ze();n({width:f.width*u,height:f.height*u})},o=()=>{const c=s==null?void 0:s.getContext("2d");!s||!c||(Ss(s),Cs({canvasEl:s,canvasSize:e(),activeHour:t()}))};return G(()=>{s&&bs(s)}),G(()=>{o()}),G(()=>{new FontFace("Rubik",`url(${Ms})`).load().then(o)}),Je(()=>{i=new ResizeObserver(r),s&&i.observe(s)}),ae(()=>{s&&(i==null||i.unobserve(s))}),(()=>{var c=Rs(),f=s;return typeof f=="function"?Qe(f,c):s=c,L(u=>{var h=e().width,a=e().height;return h!==u.e&&Nt(c,"width",u.e=h),a!==u.t&&Nt(c,"height",u.t=a),u},{e:void 0,t:void 0}),c})()}var Ds=ge("<div class=time-setter-container><div class=time-setter-item><div class=time-setter-label>Hour:</div><input type=range min=0 max=23 class=slider><div class=time-setter-value></div></div><div class=time-setter-item><div class=time-setter-label>Minute:</div><input type=range min=0 max=59 class=slider><div class=time-setter-value>");function Ps(){const t=Ct("hour"),e=Ct("minute"),n=i=>{kt.send({type:"SET_HOUR",hour:Number(i.currentTarget.value)})},s=i=>{kt.send({type:"SET_MINUTE",minute:Number(i.currentTarget.value)})};return(()=>{var i=Ds(),r=i.firstChild,o=r.firstChild,c=o.nextSibling,f=c.nextSibling,u=r.nextSibling,h=u.firstChild,a=h.nextSibling,l=a.nextSibling;return c.$$input=n,bt(f,t),a.$$input=s,bt(l,e),L(()=>c.value=t()),L(()=>a.value=e()),i})()}Ze(["input"]);function Ls(){return[St(js,{}),St(Ps,{})]}const Hs=document.getElementById("root");Ve(()=>St(Ls,{}),Hs);
